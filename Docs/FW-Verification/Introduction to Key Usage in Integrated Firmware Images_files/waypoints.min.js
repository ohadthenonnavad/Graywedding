/*
 Waypoints - 4.0.0
Copyright Â© 2011-2015 Caleb Troughton
Licensed under the MIT license.
https://github.com/imakewebthings/waypoints/blob/master/licenses.txt
*/
(function(){function d(f){if(!f)throw Error("No options passed to Waypoint constructor");if(!f.element)throw Error("No element option passed to Waypoint constructor");if(!f.handler)throw Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+e;this.options=d.Adapter.extend({},d.defaults,f);this.element=this.options.element;this.adapter=new d.Adapter(this.element);this.callback=f.handler;this.axis=this.options.horizontal?"horizontal":"vertical";this.enabled=this.options.enabled;
this.triggerPoint=null;this.group=d.Group.findOrCreate({name:this.options.group,axis:this.axis});this.context=d.Context.findOrCreateByElement(this.options.context);d.offsetAliases[this.options.offset]&&(this.options.offset=d.offsetAliases[this.options.offset]);this.group.add(this);this.context.add(this);g[this.key]=this;e+=1}var e=0,g={};d.prototype.queueTrigger=function(f){this.group.queueTrigger(this,f)};d.prototype.trigger=function(f){this.enabled&&this.callback&&this.callback.apply(this,f)};d.prototype.destroy=
function(){this.context.remove(this);this.group.remove(this);delete g[this.key]};d.prototype.disable=function(){this.enabled=!1;return this};d.prototype.enable=function(){this.context.refresh();this.enabled=!0;return this};d.prototype.next=function(){return this.group.next(this)};d.prototype.previous=function(){return this.group.previous(this)};d.invokeAll=function(f){var h=[];for(b in g)h.push(g[b]);var b=0;for(var a=h.length;b<a;b++)h[b][f]()};d.destroyAll=function(){d.invokeAll("destroy")};d.disableAll=
function(){d.invokeAll("disable")};d.enableAll=function(){d.invokeAll("enable")};d.refreshAll=function(){d.Context.refreshAll()};d.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight};d.viewportWidth=function(){return document.documentElement.clientWidth};d.adapters=[];d.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0};d.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},
"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}};window.Waypoint=d})();
(function(){function d(a){window.setTimeout(a,1E3/60)}function e(a){this.element=a;this.Adapter=h.Adapter;this.adapter=new this.Adapter(a);this.key="waypoint-context-"+g;this.didResize=this.didScroll=!1;this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()};this.waypoints={vertical:{},horizontal:{}};a.waypointContextKey=this.key;f[a.waypointContextKey]=this;g+=1;this.createThrottledScrollHandler();this.createThrottledResizeHandler()}var g=0,f={},h=window.Waypoint,b=window.onload;
e.prototype.add=function(a){this.waypoints[a.options.horizontal?"horizontal":"vertical"][a.key]=a;this.refresh()};e.prototype.checkEmpty=function(){var a=this.Adapter.isEmptyObject(this.waypoints.horizontal),c=this.Adapter.isEmptyObject(this.waypoints.vertical);a&&c&&(this.adapter.off(".waypoints"),delete f[this.key])};e.prototype.createThrottledResizeHandler=function(){function a(){c.handleResize();c.didResize=!1}var c=this;this.adapter.on("resize.waypoints",function(){c.didResize||(c.didResize=
!0,h.requestAnimationFrame(a))})};e.prototype.createThrottledScrollHandler=function(){function a(){c.handleScroll();c.didScroll=!1}var c=this;this.adapter.on("scroll.waypoints",function(){if(!c.didScroll||h.isTouch)c.didScroll=!0,h.requestAnimationFrame(a)})};e.prototype.handleResize=function(){h.Context.refreshAll()};e.prototype.handleScroll=function(){var a={},c={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),
oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},l;for(l in c){var n=c[l],t=n.newScroll>n.oldScroll?n.forward:n.backward,k;for(k in this.waypoints[l]){var m=this.waypoints[l][k],p=n.oldScroll<m.triggerPoint,q=n.newScroll>=m.triggerPoint,r=!p&&!q;if(p&&q||r)m.queueTrigger(t),a[m.group.id]=m.group}}for(var u in a)a[u].flushTriggers();this.oldScroll={x:c.horizontal.newScroll,y:c.vertical.newScroll}};e.prototype.innerHeight=function(){return this.element===this.element.window?h.viewportHeight():
this.adapter.innerHeight()};e.prototype.remove=function(a){delete this.waypoints[a.axis][a.key];this.checkEmpty()};e.prototype.innerWidth=function(){return this.element===this.element.window?h.viewportWidth():this.adapter.innerWidth()};e.prototype.destroy=function(){var a=[];for(l in this.waypoints)for(var c in this.waypoints[l])a.push(this.waypoints[l][c]);var l=0;for(c=a.length;l<c;l++)a[l].destroy()};e.prototype.refresh=function(){var a=this.element===this.element.window,c=a?void 0:this.adapter.offset(),
l={};this.handleScroll();a={horizontal:{contextOffset:a?0:c.left,contextScroll:a?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:a?0:c.top,contextScroll:a?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var n in a){c=a[n];for(var t in this.waypoints[n]){var k=this.waypoints[n][t],m=k.options.offset,p=k.triggerPoint,
q=0,r=null==p;k.element!==k.element.window&&(q=k.adapter.offset()[c.offsetProp]);"function"===typeof m?m=m.apply(k):"string"===typeof m&&(m=parseFloat(m),-1<k.options.offset.indexOf("%")&&(m=Math.ceil(c.contextDimension*m/100)));k.triggerPoint=q+(c.contextScroll-c.contextOffset)-m;p=p<c.oldScroll;q=k.triggerPoint>=c.oldScroll;m=p&&q;p=!p&&!q;!r&&m?(k.queueTrigger(c.backward),l[k.group.id]=k.group):!r&&p?(k.queueTrigger(c.forward),l[k.group.id]=k.group):r&&c.oldScroll>=k.triggerPoint&&(k.queueTrigger(c.forward),
l[k.group.id]=k.group)}}h.requestAnimationFrame(function(){for(var u in l)l[u].flushTriggers()});return this};e.findOrCreateByElement=function(a){return e.findByElement(a)||new e(a)};e.refreshAll=function(){for(var a in f)f[a].refresh()};e.findByElement=function(a){return f[a.waypointContextKey]};window.onload=function(){b&&b();e.refreshAll()};h.requestAnimationFrame=function(a){(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||d).call(window,a)};
h.Context=e})();
(function(){function d(b,a){return b.triggerPoint-a.triggerPoint}function e(b,a){return a.triggerPoint-b.triggerPoint}function g(b){this.name=b.name;this.axis=b.axis;this.id=this.name+"-"+this.axis;this.waypoints=[];this.clearTriggerQueues();f[this.axis][this.name]=this}var f={vertical:{},horizontal:{}},h=window.Waypoint;g.prototype.add=function(b){this.waypoints.push(b)};g.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}};g.prototype.flushTriggers=function(){for(var b in this.triggerQueues){var a=
this.triggerQueues[b];a.sort("up"===b||"left"===b?e:d);for(var c=0,l=a.length;c<l;c+=1){var n=a[c];(n.options.continuous||c===a.length-1)&&n.trigger([b])}}this.clearTriggerQueues()};g.prototype.next=function(b){this.waypoints.sort(d);b=h.Adapter.inArray(b,this.waypoints);return b===this.waypoints.length-1?null:this.waypoints[b+1]};g.prototype.previous=function(b){this.waypoints.sort(d);return(b=h.Adapter.inArray(b,this.waypoints))?this.waypoints[b-1]:null};g.prototype.queueTrigger=function(b,a){this.triggerQueues[a].push(b)};
g.prototype.remove=function(b){b=h.Adapter.inArray(b,this.waypoints);-1<b&&this.waypoints.splice(b,1)};g.prototype.first=function(){return this.waypoints[0]};g.prototype.last=function(){return this.waypoints[this.waypoints.length-1]};g.findOrCreate=function(b){return f[b.axis][b.name]||new g(b)};h.Group=g})();
(function(){function d(f){this.$element=e(f)}var e=window.jQuery,g=window.Waypoint;e.each("innerHeight innerWidth off offset on outerHeight outerWidth scrollLeft scrollTop".split(" "),function(f,h){d.prototype[h]=function(){var b=Array.prototype.slice.call(arguments);return this.$element[h].apply(this.$element,b)}});e.each(["extend","inArray","isEmptyObject"],function(f,h){d[h]=e[h]});g.adapters.push({name:"jquery",Adapter:d});g.Adapter=d})();
(function(){function d(g){return function(f,h){var b=[],a=f;g.isFunction(f)&&(a=g.extend({},h),a.handler=f);this.each(function(){var c=g.extend({},a,{element:this});"string"===typeof c.context&&(c.context=g(this).closest(c.context)[0]);b.push(new e(c))});return b}}var e=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=d(window.jQuery));window.Zepto&&(window.Zepto.fn.waypoint=d(window.Zepto))})();